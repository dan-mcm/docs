



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="https://lh3.googleusercontent.com/m2Zy-ujFWYyQUhg3uIuG_YDx00HB1v08cQ4CBJnd-v6LMPBpps3C4kvQriV0nObfI-I">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>IAM - Dans Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#aws-iam" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Dans Docs" class="md-header-nav__button md-logo">
          
            <img src="https://lh3.googleusercontent.com/m2Zy-ujFWYyQUhg3uIuG_YDx00HB1v08cQ4CBJnd-v6LMPBpps3C4kvQriV0nObfI-I" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Dans Docs
            </span>
            <span class="md-header-nav__topic">
              
                IAM
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/daniel40392/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Dan's Docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../languages/python/" class="md-tabs__link">
          Languages
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../containerisation/docker/" class="md-tabs__link">
          Containerisation
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../aws/" class="md-tabs__link md-tabs__link--active">
          AWS
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Dans Docs" class="md-nav__button md-logo">
      
        <img src="https://lh3.googleusercontent.com/m2Zy-ujFWYyQUhg3uIuG_YDx00HB1v08cQ4CBJnd-v6LMPBpps3C4kvQriV0nObfI-I" width="48" height="48">
      
    </a>
    Dans Docs
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/daniel40392/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Dan's Docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../publications/dev/" title="Publications" class="md-nav__link">
      Publications
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Languages
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Languages
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../languages/python/" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../languages/javascript/" title="JavaScript" class="md-nav__link">
      JavaScript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../languages/java/" title="Java" class="md-nav__link">
      Java
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../languages/scala/" title="Scala" class="md-nav__link">
      Scala
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../languages/go/" title="Go" class="md-nav__link">
      Go
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Containerisation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Containerisation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../containerisation/docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../containerisation/kubernetes/" title="Kubernetes" class="md-nav__link">
      Kubernetes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      AWS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        AWS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../aws/" title="AWS" class="md-nav__link">
      AWS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/" title="CLI" class="md-nav__link">
      CLI
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        IAM
      </label>
    
    <a href="./" title="IAM" class="md-nav__link md-nav__link--active">
      IAM
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basics" class="md-nav__link">
    Basics:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#account-setup" class="md-nav__link">
    Account Setup:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practical" class="md-nav__link">
    Practical:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exam-tips" class="md-nav__link">
    Exam Tips
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ec2/" title="EC2" class="md-nav__link">
      EC2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rds/" title="RDS" class="md-nav__link">
      RDS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../elb/" title="ELB" class="md-nav__link">
      ELB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../r53/" title="Route 53" class="md-nav__link">
      Route 53
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../elasticache/" title="Elasticache" class="md-nav__link">
      Elasticache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dynamo/" title="Dynamo DB" class="md-nav__link">
      Dynamo DB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dax/" title="Dax" class="md-nav__link">
      Dax
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kms/" title="KMS" class="md-nav__link">
      KMS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cloudwatch/" title="CloudWatch" class="md-nav__link">
      CloudWatch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../s3/" title="S3" class="md-nav__link">
      S3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cloudfront/" title="CloudFront" class="md-nav__link">
      CloudFront
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../serverless/" title="Serverless" class="md-nav__link">
      Serverless
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lambda/" title="Lambda" class="md-nav__link">
      Lambda
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api-gateway/" title="API Gateway" class="md-nav__link">
      API Gateway
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../step-functions/" title="Step Functions" class="md-nav__link">
      Step Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../x-ray/" title="X Ray" class="md-nav__link">
      X Ray
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sqs/" title="SQS" class="md-nav__link">
      SQS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sns/" title="SNS" class="md-nav__link">
      SNS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ses/" title="SES" class="md-nav__link">
      SES
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../elasticbeanstalk/" title="Elastic Beanstalk" class="md-nav__link">
      Elastic Beanstalk
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kinesis/" title="Kinesis" class="md-nav__link">
      Kinesis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ci-cd/" title="CI/CD" class="md-nav__link">
      CI/CD
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../codecommit/" title="CodeCommit" class="md-nav__link">
      CodeCommit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../codedeploy/" title="CodeDeploy" class="md-nav__link">
      CodeDeploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../codebuild/" title="CodeBuild" class="md-nav__link">
      CodeBuild
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../codepipeline/" title="CodePipeline" class="md-nav__link">
      CodePipeline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cloudformation/" title="CloudFormation" class="md-nav__link">
      CloudFormation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sam/" title="SAM" class="md-nav__link">
      SAM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../extra-resources/" title="Study Resources" class="md-nav__link">
      Study Resources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#basics" class="md-nav__link">
    Basics:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#account-setup" class="md-nav__link">
    Account Setup:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practical" class="md-nav__link">
    Practical:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exam-tips" class="md-nav__link">
    Exam Tips
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/daniel40392/docs/edit/master/docs/aws/iam.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="aws-iam">AWS IAM</h1>
<p>IAM consists of:</p>
<ul>
<li>Users</li>
<li>Groups [Group users and apply policies collectively]</li>
<li>Roles</li>
<li>Policy Documents [JSON]</li>
</ul>
<h2 id="basics">Basics:</h2>
<ul>
<li>IAM is universal - does not apply to regions at this time</li>
<li>The ‘root account’ is account created when first setup your AWS account (complete admin access)</li>
<li>New Users have no permissions when first created</li>
<li>New Users are assigned Access Key ID &amp; Secret Access Keys when first created</li>
<li>These are not same as a password, you cannot use the key ID and secret access key to login to the AWS management console</li>
<li>You can use this to access AWS via the APIs and CLI</li>
</ul>
<h2 id="account-setup">Account Setup:</h2>
<ul>
<li>You only get to view Access Key ID &amp; Secrete Access Key once. If lost, you have to regenerate them.</li>
<li>Always setup Multifactor Authentication (MFA) on your root account</li>
<li>You can create and customise your own password rotation policies</li>
</ul>
<h2 id="practical">Practical:</h2>
<p><em>Applying IAM role to EC2</em>:</p>
<p>Go to EC2 in UI
Select Actions/Instance-Settings/
Attach/Replace IAM role</p>
<p><em>Modifying S3 within EC2</em>:</p>
<div class="highlight"><pre><span></span><span class="nb">cd</span> ~/.aws <span class="o">[</span>contains config credentials<span class="o">]</span>
aws s3 ls
aws s3 ls s3://experimenting-aws
<span class="nb">echo</span> <span class="s2">&quot;Hello v2 from EC2&quot;</span> &gt; hello2.txt
aws s3 cp hello2.txt s3://experimenting-aws
</pre></div>

<h2 id="exam-tips">Exam Tips</h2>
<ul>
<li>Roles allow you to not use Access Key ID’s and Secret Access Keys</li>
<li>Roles are preferred from a security perspective</li>
<li>Roles are controlled by policies</li>
<li>You can change a policy on a role and it will take immediate affect</li>
<li>You can attach and detach roles to running EC2 instances without having to stop or terminate these instances</li>
</ul>
<h1 id="advanced-iam">Advanced IAM</h1>
<h2 id="web-identity-federation">Web Identity Federation</h2>
<p>This lets you give your users access to AWS resources after they have successfully authenticated
with a web-based identity provider like Amazon, Facebook, or Google.</p>
<p>Following successful authentication, the user receives an authentication code from the Web ID provider,
which they can trade for temporary AWS security credentials.</p>
<h2 id="amazon-cognito">Amazon Cognito</h2>
<p>Provides Web Identity Federation with the following features:</p>
<ul>
<li>Sign-up and sign-in to your apps</li>
<li>Access for guest users</li>
<li>Acts as an Identity Broker between your application and Web ID providers, so you don&rsquo;t need to write any additional code.</li>
<li>Synchronizes user data for multiple devices</li>
<li>Recommended for all mobile applications AWS services</li>
</ul>
<h2 id="cognito-use-cases">Cognito Use Cases</h2>
<p>The recommended approach for Web Identity Federation using social media accounts like Facebook.</p>
<ul>
<li>Cognito brokers  between the app and Facebook or Google to provide temporary credentials which map to an IAM role
allowing access to the required resources.</li>
<li>No need for the application to embe4d or store AWS credentials locally on the devices and it gives users a seamless experience
across all mobile devices.</li>
</ul>
<h2 id="web-identity-federation-exam-tips">Web Identity Federation Exam Tips</h2>
<ul>
<li>Federation allows users to authenticate with a Web Identity Provider (Google, Facebook, Amazon)</li>
<li>The user authenticates first with the Web ID Provider and receives an auth token, which is exchanged
for temporary AWS credentials allowing them to assume an IAM role.</li>
<li>Cognito is an Identity Broker which handles interaction between your applications and the Web Id provider
(You don&rsquo;t need to write your own code to do this)<ul>
<li>Provides sign-up, sign-in, and guest user access</li>
<li>Syncs user data for a seamless experience across your devices</li>
<li>Cognito is the AWS recommended approach for Web ID Federation particularly for mobile apps</li>
</ul>
</li>
</ul>
<h2 id="cognito-user-pools">Cognito User Pools</h2>
<ul>
<li>User Pools are user directories used to manage sign-up and sign-in functionality for mobile and web apps.</li>
<li>Users can sign-in directly to the User Pool, or indirectly via an identity provider like Facebook, Amazon or Google.
Cognito acts as an identity Broker between the ID provider and AWS. Successful authentication generates a number of JSON Web tokens (JWTs).</li>
<li>Identity Pools enable you to create unique identities for your users and authenticate them with identity providers. With an identity, you
can obtain temporary, limited-privilege AWS credentials to access other AWS services.</li>
</ul>
<p><img src="../../images/cognito.png"/></p>
<h2 id="push-synchronization">Push Synchronization</h2>
<ul>
<li>Cognito tracks the association between user identity and the various different devices they sign-in from.</li>
<li>In order to provide a seamless user experience for your app, Cognito uses Push Synchronization to push updates and Sync user data across multiple devices.</li>
<li>Amazon SNS is used to send a silent push notification to all the devices associated with a given user identity whenever data stored in the cloud changes.</li>
</ul>
<h2 id="cognito-exam-tips">Cognito Exam Tips</h2>
<ul>
<li>Cognito uses User Pools to manage user sign-up and sign-in directly or via Web identity Providers</li>
<li>Cognito acts as an Identity broker, handling all interaction with Web Identity Providers.</li>
<li>Cognito uses Push Synchronization (with SNS) to send a silent push notification of user data updates to multiple device types associated with a user ID</li>
</ul>
<h1 id="inline-policies-v-managed-policies-v-customer-policies">Inline Policies -v- Managed Policies -v- Customer Policies</h1>
<p>Identity Access Management (IAM) is used to define user access permissions within AWS.</p>
<p>There are 3 different types of IAM policies available:</p>
<ul>
<li>Managed Policies</li>
<li>Customer Managed Policies</li>
<li>Inline Policies</li>
</ul>
<h2 id="managed-policies">Managed Policies</h2>
<p>A Managed Policy is an IAM policy which is created and administered by AWS.</p>
<p>AWS provide Managed Poliicies for common use cases based on job function e.g.
AmazonDynamoDBFullACcess, AWSCodeCommitPowerUser, AmazonEC2ReadOnlyAccess etc.</p>
<p>These AWS-provided policies allow you to assign appropriate permissions to your users,
groups and roles without having to write the policy yourself.</p>
<p>A single Managed Policy can be attached to multiple users, groups, or roles within the
same AWS account and across different accounts.</p>
<p>You cannot change the permissions defined in an AWS Managed Policy.</p>
<h2 id="customer-managed-policies">Customer Managed Policies</h2>
<p>A Customer Managed Policy is a standalone policy that you create and admin inside your own AWS ac
count. You can attach this policy to multiple users, groups, and roles - but only within your own account.</p>
<p>In order to create a Customer Managed Policy, you can copy an existing AWS Managed Policy and customize it to fit
the requirements of your organization.</p>
<p>Recommended for use cases where the existing AWS Managed Policies don&rsquo;t meet the needs of your environment.</p>
<h2 id="inline-policies">Inline Policies</h2>
<p>An Inline Policy is an IAM policy which is actually embedded within the user, group, or role to which it applies.
There is a strict 1:1 relationship between the entity and the policy.</p>
<p>When you delete the user, group, or role in which the Inline policy is embedded, the policy will also be deleted.</p>
<p>In most cases, AWS recommends using Managed Policies over Inline Policies.</p>
<p>Inline Policies are useful when you want to be sure that the permissions in a policy are not inadvertently assigned to any other user,
group or role that the one for which they&rsquo;re intended. i.e. you are creating a policy that must only ever be attached to a single user, group, or role.</p>
<h2 id="policy-exam-tips">Policy Exam Tips</h2>
<ul>
<li>Remember the 3 diff types of IAM Policies:<ul>
<li>Managed Policy - AWS-managed default Policies</li>
<li>Customer Managed Policy - Managed by you</li>
<li>Inline Policy - Managed by you and embedded in a single user, group, or role</li>
</ul>
</li>
<li>In most cases, AWS recommends using Managed Policies over Inline Policies</li>
</ul>
<h1 id="sts-assumerolewithwebidentity">STS AssumeRoleWithWebIdentity</h1>
<ul>
<li>assume-role-with-web-identity is an API provided by STS (security token service)</li>
<li>Returns temporary security credentials for users auth by a mobile or web application or using a Web ID Provider like Amazon, Facebook, Google etc.</li>
<li>For mobile applications, Cognito is recommended</li>
<li>Regular web applications can use the STS assume-role-with-web-identity API</li>
</ul>
<p><img src="../../images/sts.png"/></p>
<p>Sample API Response</p>
<p><img src="../../images/sts-sample-response.png"/></p>
<h2 id="exam-tips-sts-assumerolewithwebidentity">Exam Tips STS AssumeRoleWithWebIdentity</h2>
<ul>
<li>Part of the Security Token Service</li>
<li>Allows users who have authenticated with a Web Identity provider to access AWS resources</li>
<li>Once the user has authenticated, the application makes the assume-role-with-web-identity API call</li>
<li>If successful, STS will return temporary credentials enabling acceess to AWS resources</li>
<li>AssumedRoleUser ARN and AssumedRoleID - are used to programmatically reference the temporary credentials -
not an IAM role or user</li>
</ul>
<h2 id="iam-policy-simulator">IAM Policy Simulator</h2>
<ul>
<li>Test the effects of IAM policies before committing them to production</li>
<li>Validate that the policy works as expected</li>
<li>Test policies attached to existing users - great for troubleshooting an issue which you
suspect is IAM related</li>
<li><a href="https://policysim.aws.amazon.com">https://policysim.aws.amazon.com</a></li>
</ul>
<h1 id="exam-tips-iam-policy-simulator">Exam Tips - IAM Policy Simulator</h1>
<ul>
<li>Test IAM permissions before you commit them to production</li>
<li>Validate that the policy works as expected</li>
<li>You can also test policies attached to existing users - great for troubleshooting</li>
<li><a href="https://policysim.aws.amazon.com">https://policysim.aws.amazon.com</a></li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../cli/" title="CLI" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                CLI
              </span>
            </div>
          </a>
        
        
          <a href="../ec2/" title="EC2" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                EC2
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>